<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" type="image/svg+xml" href="https://media.prts.wiki/e/e1/%E5%A4%B4%E5%83%8F_%E5%8F%B2%E5%B0%94%E7%89%B9%E5%B0%94.png" />
        <title>ArknightsLive2d-Web</title>
    </head>
    <script src="./assets/js/spine-webgl.js"></script>
    <script src="./assets//js/MobileDrawer.js"></script>
    <script src="./assets/js/select.js"></script>
    <script src="./assets/js/SpinLoader.js"></script>
    <link rel="stylesheet" href="./assets/css/index.css" />
    <body>
        <div id="spinWrapper">
            <spin-loader id="spin" size="100" color="#00aaff"></spin-loader>
        </div>
        <canvas id="canvas"></canvas>
        <div class="operation">
            <search-select id="select" placeholder="选择干员"></search-select>
            <search-select id="enemy" placeholder="选择敌人"></search-select>
            <button onclick="drawer.open()">更多操作</button>
        </div>
        <mobile-drawer id="drawer" side="left">
            <div style="padding: 16px">
                <div id="panel" onclick="drawer.close()"></div>
            </div>
        </mobile-drawer>
        <div class="footer">
            <a href="https://arknights.shuaxinjs.cn/" target="_blank">
                <button>明日方舟生涯表</button>
            </a>
            <a href="https://www.xiaohongshu.com/user/profile/617ce3ac000000000201bc2c?xhsshare=CopyLink&appuid=617ce3ac000000000201bc2c&apptime=1652512227" target="_blank">
                <button>作者 - 小红书</button>
            </a>
            <a href="https://bento.me/shuaxin" target="_blank">
                <button>作者 - 更多</button>
            </a>
            <a href="https://github.com/SHUAXINDIARY/ArknightsLive2d-Web" target="_blank">
                <button>站点仓库</button>
            </a>
            <a href="https://github.com/isHarryh/Ark-Models" target="_blank">
                <button>数据来源</button>
            </a>
        </div>
        <script type="module">
            import { init } from "./assets/js/index.js";
            import { renderMemberSelect, DATA_FILTER_TYPE } from "./assets/js/getData.js";
            import { isMobileDevice } from "./assets/js/utils.js";
            init();
            // renderMemberSelect([DATA_FILTER_TYPE.Operator, DATA_FILTER_TYPE.Enemy]);
            renderMemberSelect([DATA_FILTER_TYPE.Operator]);
            renderMemberSelect([DATA_FILTER_TYPE.Enemy], "#enemy");
            if (!isMobileDevice()) {
                const footer = document.querySelector(".operation");
                const a = document.createElement("a");
                a.href = "/skin";
                const button = document.createElement("button");
                button.innerText = "皮肤页";
                a.appendChild(button);
                footer.appendChild(a);
            }
        </script>
    </body>
</html>
